{"ast":null,"code":"import _slicedToArray from\"/Users/whl/ironhack/dating-apes/dating-apes/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useContext,useState}from'react';import axios from'axios';import{AuthContext}from'../context/auth.context';import React from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function AddAText(props){var _useContext=useContext(AuthContext),user=_useContext.user;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),aText=_useState2[0],setAText=_useState2[1];var handleSubmit=function handleSubmit(e){e.preventDefault();var requestBody={aText:aText,userRecieve:props.userId,userSend:user._id};var storedToken=localStorage.getItem('authToken');axios.post(\"/api/messages\",requestBody,{headers:{Authorization:\"Bearer \".concat(storedToken)}}).then(function(response){setAText('');props.refreshUser();}).catch(function(error){return console.log(error);});};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"aText\",value:aText,onChange:function onChange(e){return setAText(e.target.value);},className:\"AddAText-input\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"AddAText-btn btn-hover\",children:\"SEND\"})]})});}export default AddAText;","map":{"version":3,"names":["useContext","useState","axios","AuthContext","React","AddAText","props","user","aText","setAText","handleSubmit","e","preventDefault","requestBody","userRecieve","userId","userSend","_id","storedToken","localStorage","getItem","post","headers","Authorization","then","response","refreshUser","catch","error","console","log","target","value"],"sources":["/Users/whl/ironhack/dating-apes/dating-apes/client/src/components/AddAText.js"],"sourcesContent":["import { useContext, useState } from 'react';\nimport axios from 'axios';\nimport { AuthContext } from '../context/auth.context';\nimport React from 'react';\n\nfunction AddAText(props) {\n  const { user } = useContext(AuthContext);\n  const [aText, setAText] = useState('');\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    const requestBody = { aText, userRecieve: props.userId, userSend: user._id };\n    const storedToken = localStorage.getItem('authToken');\n    axios\n      .post(`/api/messages`, requestBody, { headers: { Authorization: `Bearer ${storedToken}` } })\n      .then((response) => {\n        setAText('');\n        props.refreshUser();\n      })\n      .catch((error) => console.log(error));\n  };\n\n  return (\n    <div>\n      <form onSubmit={handleSubmit}>\n        <input type='text' name='aText' value={aText} onChange={(e) => setAText(e.target.value)} className='AddAText-input' />\n        <button type='submit' className='AddAText-btn btn-hover'>\n          SEND\n        </button>\n      </form>\n    </div>\n  );\n}\n\nexport default AddAText;\n"],"mappings":"wIAAA,OAASA,UAAT,CAAqBC,QAArB,KAAqC,OAArC,CACA,MAAOC,MAAP,KAAkB,OAAlB,CACA,OAASC,WAAT,KAA4B,yBAA5B,CACA,MAAOC,MAAP,KAAkB,OAAlB,C,wFAEA,QAASC,SAAT,CAAkBC,KAAlB,CAAyB,CACvB,gBAAiBN,UAAU,CAACG,WAAD,CAA3B,CAAQI,IAAR,aAAQA,IAAR,CACA,cAA0BN,QAAQ,CAAC,EAAD,CAAlC,wCAAOO,KAAP,eAAcC,QAAd,eACA,GAAMC,aAAY,CAAG,QAAfA,aAAe,CAACC,CAAD,CAAO,CAC1BA,CAAC,CAACC,cAAF,GACA,GAAMC,YAAW,CAAG,CAAEL,KAAK,CAALA,KAAF,CAASM,WAAW,CAAER,KAAK,CAACS,MAA5B,CAAoCC,QAAQ,CAAET,IAAI,CAACU,GAAnD,CAApB,CACA,GAAMC,YAAW,CAAGC,YAAY,CAACC,OAAb,CAAqB,WAArB,CAApB,CACAlB,KAAK,CACFmB,IADH,iBACyBR,WADzB,CACsC,CAAES,OAAO,CAAE,CAAEC,aAAa,kBAAYL,WAAZ,CAAf,CAAX,CADtC,EAEGM,IAFH,CAEQ,SAACC,QAAD,CAAc,CAClBhB,QAAQ,CAAC,EAAD,CAAR,CACAH,KAAK,CAACoB,WAAN,GACD,CALH,EAMGC,KANH,CAMS,SAACC,KAAD,QAAWC,QAAO,CAACC,GAAR,CAAYF,KAAZ,CAAX,EANT,EAOD,CAXD,CAaA,mBACE,kCACE,cAAM,QAAQ,CAAElB,YAAhB,wBACE,cAAO,IAAI,CAAC,MAAZ,CAAmB,IAAI,CAAC,OAAxB,CAAgC,KAAK,CAAEF,KAAvC,CAA8C,QAAQ,CAAE,kBAACG,CAAD,QAAOF,SAAQ,CAACE,CAAC,CAACoB,MAAF,CAASC,KAAV,CAAf,EAAxD,CAAyF,SAAS,CAAC,gBAAnG,EADF,cAEE,eAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,wBAAhC,kBAFF,GADF,EADF,CAUD,CAED,cAAe3B,SAAf"},"metadata":{},"sourceType":"module"}